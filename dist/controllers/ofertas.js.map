{"version":3,"file":"ofertas.js","names":["models","require","Op","getConFiltros","req","res","paginaComoNumero","Number","parseInt","query","pagina","limiteComoNumero","limite","ordenarPor","ordenar","buscarTitulo","idEstado","isNaN","replace","ofertas","findAndCountAll","limit","offset","include","as","model","empresas","attributes","estudios","carreras","jornadas","contratos","estado_ofertas","where","and","titulo_oferta","iLike","fk_id_estado","eq","order","then","send","totalPaginas","Math","ceil","count","catch","sendStatus","getPeladas","findOferta","id","onSuccess","onNotFound","onError","findOne","getPorId","params","getOfertasPorIdEmpresa","fk_id_empresa","postOfertas","create","body","idEmpresa","fk_id_jornada","idJornada","fk_id_contrato","idContrato","fk_id_estudio","idEstudio","fk_id_carrera","idCarrera","fecha_vigencia","fechaVigencia","tituloOferta","descripcion","horario_laboral_desde","horarioLaboralDesde","horario_laboral_hasta","horarioLaboralHasta","edad_desde","edadDesde","edad_hasta","edadHasta","experiencia_previa_desc","experienciaPreviaDesc","zona_trabajo","zonaTrabajo","areas_estudio","areasEstudio","otros_detalles","otrosDetalles","beneficios","remuneracion","status","error","console","log","deleteOferta","destroy","updateOfertas","update","fields"],"sources":["../../src/controllers/ofertas.js"],"sourcesContent":["import { BOOLEAN } from \"sequelize\";\r\n\r\nconst models = require(\"../../database/models\");\r\nconst { Op } = require(\"sequelize\");\r\n\r\nexport const getConFiltros = async (req, res) => {\r\n  let paginaComoNumero = Number.parseInt(req.query.pagina);\r\n  let limiteComoNumero = Number.parseInt(req.query.limite);\r\n  let ordenarPor = req.query.ordenar;\r\n  let buscarTitulo = req.query.buscarTitulo;\r\n  let idEstado = req.query.idEstado;\r\n\r\n  let pagina = 0;\r\n  if (!Number.isNaN(paginaComoNumero) && paginaComoNumero > 0) {\r\n    pagina = paginaComoNumero;\r\n  }\r\n\r\n  let limite = 30;\r\n  if (!Number.isNaN(limiteComoNumero) && limiteComoNumero > 0) {\r\n    limite = limiteComoNumero;\r\n  }\r\n  if (typeof ordenarPor === \"undefined\") {\r\n    ordenarPor = \"createdAt\";\r\n  }\r\n\r\n  if (typeof buscarTitulo === \"undefined\") {\r\n    buscarTitulo = \"_\";\r\n  } else {\r\n    buscarTitulo = buscarTitulo.replace(/\\s/g, \"%\");\r\n  }\r\n\r\n  if (typeof idEstado === \"undefined\") {\r\n    idEstado = 1;\r\n }\r\n\r\n  models.ofertas\r\n    .findAndCountAll({\r\n      limit: limite,\r\n      offset: pagina * limite,\r\n      include: [\r\n        {\r\n          as: \"Empresa\",\r\n          model: models.empresas,\r\n          attributes: [\"id\", \"nombre_empresa\", \"descripcion\"],\r\n        },\r\n        {\r\n          as: \"Estudio\",\r\n          model: models.estudios,\r\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\r\n        },\r\n        {\r\n          as: \"Carrera\",\r\n          model: models.carreras,\r\n          attributes: [\"id\", \"nombre_carrera\"],\r\n        },\r\n        {\r\n          as: \"Jornada\",\r\n          model: models.jornadas,\r\n          attributes: [\"id\", \"nombre_jornada\"],\r\n        },\r\n        {\r\n          as: \"Contrato\",\r\n          model: models.contratos,\r\n          attributes: [\"id\", \"nombre_contrato\"],\r\n        },\r\n        {\r\n          as: \"Estado\",\r\n          model: models.estado_ofertas,\r\n          attributes: [\"id\", \"nombre_estado\"],\r\n        },\r\n      ],\r\n      where: {\r\n        [Op.and]: [\r\n          {\r\n            titulo_oferta: {\r\n              [Op.iLike]: `%${buscarTitulo}%`,\r\n            },\r\n            fk_id_estado: {\r\n              [Op.eq]: [idEstado]\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      order: [[ordenarPor, 'DESC'],],\r\n    })\r\n    .then((ofertas) =>\r\n      res.send({\r\n        ofertas,\r\n        totalPaginas: Math.ceil(ofertas.count / limite),\r\n      })\r\n    )\r\n    .catch(() => res.sendStatus(500));\r\n};\r\n\r\nexport const getPeladas = async (req, res) => {\r\n  let pagina = 0;\r\n  let limite = 1000;\r\n\r\n  models.ofertas\r\n    .findAndCountAll({\r\n      limit: limite,\r\n      offset: pagina * limite,\r\n      include: [\r\n        {\r\n          as: \"Empresa\",\r\n          model: models.empresas,\r\n          attributes: [\"id\", \"nombre_empresa\", \"descripcion\"],\r\n        },\r\n        {\r\n          as: \"Estudio\",\r\n          model: models.estudios,\r\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\r\n        },\r\n        {\r\n          as: \"Carrera\",\r\n          model: models.carreras,\r\n          attributes: [\"id\", \"nombre_carrera\"],\r\n        },\r\n        {\r\n          as: \"Jornada\",\r\n          model: models.jornadas,\r\n          attributes: [\"id\", \"nombre_jornada\"],\r\n        },\r\n        {\r\n          as: \"Contrato\",\r\n          model: models.contratos,\r\n          attributes: [\"id\", \"nombre_contrato\"],\r\n        },\r\n        {\r\n          as: \"Estado\",\r\n          model: models.estado_ofertas,\r\n          attributes: [\"id\", \"nombre_estado\"],\r\n        },\r\n      ]\r\n    })\r\n    .then((ofertas) =>\r\n      res.send({\r\n        ofertas,\r\n        totalPaginas: Math.ceil(ofertas.count / limite),\r\n      })\r\n    )\r\n    .catch(() => res.sendStatus(500));\r\n};\r\n\r\nconst findOferta = (id, { onSuccess, onNotFound, onError }) => {\r\n  models.ofertas\r\n    .findOne({\r\n      include: [\r\n        {\r\n          as: \"Empresa\",\r\n          model: models.empresas,\r\n          attributes: [\"id\", \"nombre_empresa\", \"descripcion\"],\r\n        },\r\n        {\r\n          as: \"Estudio\",\r\n          model: models.estudios,\r\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\r\n        },\r\n        {\r\n          as: \"Carrera\",\r\n          model: models.carreras,\r\n          attributes: [\"id\", \"nombre_carrera\"],\r\n        },\r\n        {\r\n          as: \"Jornada\",\r\n          model: models.jornadas,\r\n          attributes: [\"id\", \"nombre_jornada\"],\r\n        },\r\n        {\r\n          as: \"Contrato\",\r\n          model: models.contratos,\r\n          attributes: [\"id\", \"nombre_contrato\"],\r\n        },\r\n        {\r\n          as: \"Estado\",\r\n          model: models.estado_ofertas,\r\n          attributes: [\"id\", \"nombre_estado\"],\r\n        },\r\n      ],\r\n      where: { id },\r\n    })\r\n    .then((ofertas) => (ofertas ? onSuccess(ofertas) : onNotFound()))\r\n    .catch(() => onError());\r\n};\r\n\r\nexport const getPorId = async (req, res) => {\r\n  findOferta(req.params.id, {\r\n    onSuccess: (ofertas) => res.send(ofertas),\r\n    onNotFound: () => res.sendStatus(404),\r\n    onError: () => res.sendStatus(500),\r\n  });\r\n};\r\n\r\n\r\nexport const getOfertasPorIdEmpresa = async (req, res) => {\r\n  let buscarTitulo = req.query.buscarTitulo;\r\n  let pagina = req.query.pagina;\r\n  let limite = req.query.limite;\r\n  let fk_id_empresa = req.params.id;\r\n\r\n  if (typeof buscarTitulo === \"undefined\") {\r\n    buscarTitulo = \"_\";\r\n  } else {\r\n    buscarTitulo = buscarTitulo.replace(/\\s/g, \"%\");\r\n  }\r\n\r\n  if (typeof pagina === \"undefined\") {\r\n    pagina = 0;\r\n  }\r\n\r\n  if (typeof limite === \"undefined\") {\r\n    limite = 30;\r\n  }\r\n\r\n  models.ofertas\r\n    .findAndCountAll({\r\n      limit: limite,\r\n      offset: pagina * limite,\r\n      include: [\r\n        {\r\n          as: \"Empresa\",\r\n          model: models.empresas,\r\n          attributes: [\"id\", \"nombre_empresa\", \"descripcion\"],\r\n        },\r\n        {\r\n          as: \"Estudio\",\r\n          model: models.estudios,\r\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\r\n        },\r\n        {\r\n          as: \"Carrera\",\r\n          model: models.carreras,\r\n          attributes: [\"id\", \"nombre_carrera\"],\r\n        },\r\n        {\r\n          as: \"Jornada\",\r\n          model: models.jornadas,\r\n          attributes: [\"id\", \"nombre_jornada\"],\r\n        },\r\n        {\r\n          as: \"Contrato\",\r\n          model: models.contratos,\r\n          attributes: [\"id\", \"nombre_contrato\"],\r\n        },\r\n        {\r\n          as: \"Estado\",\r\n          model: models.estado_ofertas,\r\n          attributes: [\"id\", \"nombre_estado\"],\r\n        },\r\n      ],\r\n      where: { fk_id_empresa,\r\n        [Op.and]: [\r\n          {\r\n            titulo_oferta: {\r\n              [Op.iLike]: `%${buscarTitulo}%`,\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    })\r\n    .then((ofertas) =>\r\n      res.send({\r\n        ofertas,\r\n        totalPaginas: Math.ceil(ofertas.count / limite),\r\n      })\r\n    )\r\n    .catch(() => res.sendStatus(500));\r\n};\r\n\r\nexport const postOfertas = async (req, res) => {\r\n  models.ofertas\r\n    .create({\r\n      fk_id_empresa: req.body.idEmpresa,\r\n      fk_id_jornada: req.body.idJornada,\r\n      fk_id_contrato: req.body.idContrato,\r\n      fk_id_estudio: req.body.idEstudio,\r\n      fk_id_carrera: req.body.idCarrera,\r\n      fk_id_estado: 2,\r\n      fecha_vigencia: req.body.fechaVigencia,\r\n      titulo_oferta: req.body.tituloOferta,\r\n      descripcion: req.body.descripcion,\r\n      horario_laboral_desde: req.body.horarioLaboralDesde,\r\n      horario_laboral_hasta: req.body.horarioLaboralHasta,\r\n      edad_desde: req.body.edadDesde,\r\n      edad_hasta: req.body.edadHasta,\r\n      experiencia_previa_desc: req.body.experienciaPreviaDesc,\r\n      zona_trabajo: req.body.zonaTrabajo,\r\n      areas_estudio: req.body.areasEstudio,\r\n      otros_detalles: req.body.otrosDetalles,\r\n      beneficios: req.body.beneficios,\r\n      remuneracion: req.body.remuneracion,\r\n    })\r\n    .then((ofertas) => res.status(201).send({ id: ofertas.id }))\r\n    .catch((error) => {\r\n      if (error == \"SequelizeUniqueConstraintError: Validation error\") {\r\n        res.status(401).send(\"Bad request: Algun tipo de error de validacion de campos\");\r\n      } else {\r\n        console.log(`Error al intentar insertar en la base de datos: ${error}`);\r\n        res.sendStatus(500);\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteOferta = async (req, res) => {\r\n  const onSuccess = (ofertas) =>\r\n    ofertas\r\n      .destroy()\r\n      .then(() => res.sendStatus(200))\r\n      .catch(() => res.sendStatus(500));\r\n  findOferta(req.params.id, {\r\n    onSuccess,\r\n    onNotFound: () => res.sendStatus(404),\r\n    onError: () => res.sendStatus(500),\r\n  });\r\n};\r\n\r\nexport const updateOfertas = async (req, res) => {\r\n  const onSuccess = (ofertas) =>\r\n    ofertas\r\n      .update(\r\n        {\r\n          fk_id_jornada: req.body.idJornada,\r\n          fk_id_contrato: req.body.idContrato,\r\n          fk_id_estudio: req.body.idEstudio,\r\n          fk_id_carrera: req.body.idCarrera,\r\n          fk_id_estado: req.body.idEstado,\r\n          fecha_vigencia: req.body.fechaVigencia,\r\n          titulo_oferta: req.body.tituloOferta,\r\n          descripcion: req.body.descripcion,\r\n          horario_laboral_desde: req.body.horarioLaboralDesde,\r\n          horario_laboral_hasta: req.body.horarioLaboralHasta,\r\n          edad_desde: req.body.edadDesde,\r\n          edad_hasta: req.body.edadHasta,\r\n          experiencia_previa_desc: req.body.experienciaPreviaDesc,\r\n          zona_trabajo: req.body.zonaTrabajo,\r\n          areas_estudio: req.body.areasEstudio,\r\n          otros_detalles: req.body.otrosDetalles,\r\n          beneficios: req.body.beneficios,\r\n          remuneracion: req.body.remuneracion,\r\n        },\r\n        { fields: [\"fk_id_jornada\", \"fk_id_contrato\", \"fk_id_estudio\",\"fk_id_carrera\",\"fk_id_estado\",\"fecha_vigencia\",\"titulo_oferta\",\"descripcion\",\"horario_laboral_desde\",\"horario_laboral_hasta\",\"edad_desde\",\"edad_hasta\",\"experiencia_previa_desc\",\"zona_trabajo\",\"areas_estudio\",\"otros_detalles\",\"beneficios\",\"remuneracion\"] }\r\n      )\r\n      .then(() => res.sendStatus(200))\r\n      .catch((error) => {\r\n        if (error == \"SequelizeUniqueConstraintError: Validation error\") {\r\n          res\r\n            .status(400)\r\n            .send(\"Bad request: Algun tipo de error de validacion de campos\");\r\n        } else {\r\n          console.log(\r\n            `Error al intentar actualizar la base de datos: ${error}`\r\n          );\r\n          res.sendStatus(500);\r\n        }\r\n      });\r\n  findOferta(req.params.id, {\r\n    onSuccess,\r\n    onNotFound: () => res.sendStatus(404),\r\n    onError: () => res.sendStatus(500),\r\n  });\r\n};\r\n"],"mappings":"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"}