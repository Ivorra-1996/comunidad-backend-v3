{"version":3,"file":"ofertas.js","names":["models","require","Op","getConFiltros","req","res","paginaComoNumero","Number","parseInt","query","pagina","limiteComoNumero","limite","ordenarPor","ordenar","buscarTitulo","idEstado","isNaN","replace","ofertas","findAndCountAll","limit","offset","include","as","model","empresas","attributes","estudios","carreras","jornadas","contratos","estado_ofertas","where","and","titulo_oferta","iLike","fk_id_estado","eq","order","then","send","totalPaginas","Math","ceil","count","catch","sendStatus","getPeladas","findOferta","id","onSuccess","onNotFound","onError","findOne","getPorId","params","findOfertaPorIdEmpresa","fk_id_empresa","findAll","getOfertasPorIdEmpresa","postOfertas","create","body","idEmpresa","fk_id_jornada","idJornada","fk_id_contrato","idContrato","fk_id_estudio","idEstudio","fk_id_carrera","idCarrera","fecha_vigencia","fechaVigencia","tituloOferta","descripcion","horario_laboral_desde","horarioLaboralDesde","horario_laboral_hasta","horarioLaboralHasta","edad_desde","edadDesde","edad_hasta","edadHasta","experiencia_previa_desc","experienciaPreviaDesc","zona_trabajo","zonaTrabajo","areas_estudio","areasEstudio","otros_detalles","otrosDetalles","beneficios","remuneracion","status","error","console","log","deleteOferta","destroy","updateOfertas","update","fields"],"sources":["../../src/controllers/ofertas.js"],"sourcesContent":["import { BOOLEAN } from \"sequelize\";\n\nconst models = require(\"../../database/models\");\nconst { Op } = require(\"sequelize\");\n\nexport const getConFiltros = async (req, res) => {\n  let paginaComoNumero = Number.parseInt(req.query.pagina);\n  let limiteComoNumero = Number.parseInt(req.query.limite);\n  let ordenarPor = req.query.ordenar;\n  let buscarTitulo = req.query.buscarTitulo;\n  let idEstado = req.query.idEstado;\n\n  let pagina = 0;\n  if (!Number.isNaN(paginaComoNumero) && paginaComoNumero > 0) {\n    pagina = paginaComoNumero;\n  }\n\n  let limite = 30;\n  if (!Number.isNaN(limiteComoNumero) && limiteComoNumero > 0) {\n    limite = limiteComoNumero;\n  }\n  if (typeof ordenarPor === \"undefined\") {\n    ordenarPor = \"createdAt\";\n  }\n\n  if (typeof buscarTitulo === \"undefined\") {\n    buscarTitulo = \"_\";\n  } else {\n    buscarTitulo = buscarTitulo.replace(/\\s/g, \"%\");\n  }\n\n  if (typeof idEstado === \"undefined\") {\n    idEstado = 1;\n }\n\n  models.ofertas\n    .findAndCountAll({\n      limit: limite,\n      offset: pagina * limite,\n      include: [\n        {\n          as: \"Empresa\",\n          model: models.empresas,\n          attributes: [\"id\", \"nombre_empresa\"],\n        },\n        {\n          as: \"Estudio\",\n          model: models.estudios,\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\n        },\n        {\n          as: \"Carrera\",\n          model: models.carreras,\n          attributes: [\"id\", \"nombre_carrera\"],\n        },\n        {\n          as: \"Jornada\",\n          model: models.jornadas,\n          attributes: [\"id\", \"nombre_jornada\"],\n        },\n        {\n          as: \"Contrato\",\n          model: models.contratos,\n          attributes: [\"id\", \"nombre_contrato\"],\n        },\n        {\n          as: \"Estado\",\n          model: models.estado_ofertas,\n          attributes: [\"id\", \"nombre_estado\"],\n        },\n      ],\n      where: {\n        [Op.and]: [\n          {\n            titulo_oferta: {\n              [Op.iLike]: `%${buscarTitulo}%`,\n            },\n            fk_id_estado: {\n              [Op.eq]: [idEstado]\n            },\n          },\n        ],\n      },\n      order: [ordenarPor],\n    })\n    .then((ofertas) =>\n      res.send({\n        ofertas,\n        totalPaginas: Math.ceil(ofertas.count / limite),\n      })\n    )\n    .catch(() => res.sendStatus(500));\n};\n\nexport const getPeladas = async (req, res) => {\n  let pagina = 0;\n  let limite = 1000;\n\n  models.ofertas\n    .findAndCountAll({\n      limit: limite,\n      offset: pagina * limite,\n      include: [\n        {\n          as: \"Empresa\",\n          model: models.empresas,\n          attributes: [\"id\", \"nombre_empresa\"],\n        },\n        {\n          as: \"Estudio\",\n          model: models.estudios,\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\n        },\n        {\n          as: \"Carrera\",\n          model: models.carreras,\n          attributes: [\"id\", \"nombre_carrera\"],\n        },\n        {\n          as: \"Jornada\",\n          model: models.jornadas,\n          attributes: [\"id\", \"nombre_jornada\"],\n        },\n        {\n          as: \"Contrato\",\n          model: models.contratos,\n          attributes: [\"id\", \"nombre_contrato\"],\n        },\n        {\n          as: \"Estado\",\n          model: models.estado_ofertas,\n          attributes: [\"id\", \"nombre_estado\"],\n        },\n      ]\n    })\n    .then((ofertas) =>\n      res.send({\n        ofertas,\n        totalPaginas: Math.ceil(ofertas.count / limite),\n      })\n    )\n    .catch(() => res.sendStatus(500));\n};\n\nconst findOferta = (id, { onSuccess, onNotFound, onError }) => {\n  models.ofertas\n    .findOne({\n      include: [\n        {\n          as: \"Empresa\",\n          model: models.empresas,\n          attributes: [\"id\", \"nombre_empresa\"],\n        },\n        {\n          as: \"Estudio\",\n          model: models.estudios,\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\n        },\n        {\n          as: \"Carrera\",\n          model: models.carreras,\n          attributes: [\"id\", \"nombre_carrera\"],\n        },\n        {\n          as: \"Jornada\",\n          model: models.jornadas,\n          attributes: [\"id\", \"nombre_jornada\"],\n        },\n        {\n          as: \"Contrato\",\n          model: models.contratos,\n          attributes: [\"id\", \"nombre_contrato\"],\n        },\n        {\n          as: \"Estado\",\n          model: models.estado_ofertas,\n          attributes: [\"id\", \"nombre_estado\"],\n        },\n      ],\n      where: { id },\n    })\n    .then((ofertas) => (ofertas ? onSuccess(ofertas) : onNotFound()))\n    .catch(() => onError());\n};\n\nexport const getPorId = async (req, res) => {\n  findOferta(req.params.id, {\n    onSuccess: (ofertas) => res.send(ofertas),\n    onNotFound: () => res.sendStatus(404),\n    onError: () => res.sendStatus(500),\n  });\n};\n\nconst findOfertaPorIdEmpresa = (\n  fk_id_empresa,\n  { onSuccess, onNotFound, onError }\n) => {\n  models.ofertas\n    .findAll({\n      include: [\n        {\n          as: \"Empresa\",\n          model: models.empresas,\n          attributes: [\"id\", \"nombre_empresa\"],\n        },\n        {\n          as: \"Estudio\",\n          model: models.estudios,\n          attributes: [\"id\", \"nombre_estudio\", \"estado_estudio\"],\n        },\n        {\n          as: \"Carrera\",\n          model: models.carreras,\n          attributes: [\"id\", \"nombre_carrera\"],\n        },\n        {\n          as: \"Jornada\",\n          model: models.jornadas,\n          attributes: [\"id\", \"nombre_jornada\"],\n        },\n        {\n          as: \"Contrato\",\n          model: models.contratos,\n          attributes: [\"id\", \"nombre_contrato\"],\n        },\n        {\n          as: \"Estado\",\n          model: models.estado_ofertas,\n          attributes: [\"id\", \"nombre_estado\"],\n        },\n      ],\n      where: { fk_id_empresa },\n    })\n    .then((ofertas) => (ofertas ? onSuccess(ofertas) : onNotFound()))\n    .catch(() => onError());\n};\n\nexport const getOfertasPorIdEmpresa = async (req, res) => {\n  findOfertaPorIdEmpresa(req.params.id, {\n    onSuccess: (ofertas) => res.send(ofertas),\n    onNotFound: () => res.sendStatus(404),\n    onError: () => res.sendStatus(500),\n  });\n};\n\nexport const postOfertas = async (req, res) => {\n  models.ofertas\n    .create({\n      fk_id_empresa: req.body.idEmpresa,\n      fk_id_jornada: req.body.idJornada,\n      fk_id_contrato: req.body.idContrato,\n      fk_id_estudio: req.body.idEstudio,\n      fk_id_carrera: req.body.idCarrera,\n      fk_id_estado: 2,\n      fecha_vigencia: req.body.fechaVigencia,\n      titulo_oferta: req.body.tituloOferta,\n      descripcion: req.body.descripcion,\n      horario_laboral_desde: req.body.horarioLaboralDesde,\n      horario_laboral_hasta: req.body.horarioLaboralHasta,\n      edad_desde: req.body.edadDesde,\n      edad_hasta: req.body.edadHasta,\n      experiencia_previa_desc: req.body.experienciaPreviaDesc,\n      zona_trabajo: req.body.zonaTrabajo,\n      areas_estudio: req.body.areasEstudio,\n      otros_detalles: req.body.otrosDetalles,\n      beneficios: req.body.beneficios,\n      remuneracion: req.body.remuneracion,\n    })\n    .then((ofertas) => res.status(201).send({ id: ofertas.id }))\n    .catch((error) => {\n      if (error == \"SequelizeUniqueConstraintError: Validation error\") {\n        res.status(401).send(\"Bad request: Algun tipo de error de validacion de campos\");\n      } else {\n        console.log(`Error al intentar insertar en la base de datos: ${error}`);\n        res.sendStatus(500);\n      }\n    });\n};\n\nexport const deleteOferta = async (req, res) => {\n  const onSuccess = (ofertas) =>\n    ofertas\n      .destroy()\n      .then(() => res.sendStatus(200))\n      .catch(() => res.sendStatus(500));\n  findOferta(req.params.id, {\n    onSuccess,\n    onNotFound: () => res.sendStatus(404),\n    onError: () => res.sendStatus(500),\n  });\n};\n\nexport const updateOfertas = async (req, res) => {\n  const onSuccess = (ofertas) =>\n    ofertas\n      .update(\n        {\n          fk_id_jornada: req.body.idJornada,\n          fk_id_contrato: req.body.idContrato,\n          fk_id_estudio: req.body.idEstudio,\n          fk_id_carrera: req.body.idCarrera,\n          fk_id_estado: req.body.idEstado,\n          fecha_vigencia: req.body.fechaVigencia,\n          titulo_oferta: req.body.tituloOferta,\n          descripcion: req.body.descripcion,\n          horario_laboral_desde: req.body.horarioLaboralDesde,\n          horario_laboral_hasta: req.body.horarioLaboralHasta,\n          edad_desde: req.body.edadDesde,\n          edad_hasta: req.body.edadHasta,\n          experiencia_previa_desc: req.body.experienciaPreviaDesc,\n          zona_trabajo: req.body.zonaTrabajo,\n          areas_estudio: req.body.areasEstudio,\n          otros_detalles: req.body.otrosDetalles,\n          beneficios: req.body.beneficios,\n          remuneracion: req.body.remuneracion,\n        },\n        { fields: [\"fk_id_jornada\", \"fk_id_contrato\", \"fk_id_estudio\",\"fk_id_carrera\",\"fk_id_estado\",\"fecha_vigencia\",\"titulo_oferta\",\"descripcion\",\"horario_laboral_desde\",\"horario_laboral_hasta\",\"edad_desde\",\"edad_hasta\",\"experiencia_previa_desc\",\"zona_trabajo\",\"areas_estudio\",\"otros_detalles\",\"beneficios\",\"remuneracion\"] }\n      )\n      .then(() => res.sendStatus(200))\n      .catch((error) => {\n        if (error == \"SequelizeUniqueConstraintError: Validation error\") {\n          res\n            .status(400)\n            .send(\"Bad request: Algun tipo de error de validacion de campos\");\n        } else {\n          console.log(\n            `Error al intentar actualizar la base de datos: ${error}`\n          );\n          res.sendStatus(500);\n        }\n      });\n  findOferta(req.params.id, {\n    onSuccess,\n    onNotFound: () => res.sendStatus(404),\n    onError: () => res.sendStatus(500),\n  });\n};\n"],"mappings":"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"}